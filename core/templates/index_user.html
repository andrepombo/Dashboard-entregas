{% extends "layouts/base.html" %}

{% block title %} Dashboard {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}




{% block content %}

    <main class="content">

        {% include 'includes/navigation.html' %}

        <div class="row justify-content-md-center">
            <div class="col-12 col-sm-6 col-xl-3 mb-4">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <div class="row d-block d-xl-flex align-items-center">
                            <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                                <div class="icon icon-shape icon-md icon-shape-blue rounded mr-4 mr-sm-0"><span class="fas fa-calendar-alt"></span></div>
                                <div class="d-sm-none">
                                    <h2 class="h5">Faturamento Mensal</h2>
                                    <h3 class="mb-1">345,678</h3>
                                </div>
                            </div>
                            <div class="col-12 col-xl-7 px-xl-0">
                                <div class="d-none d-sm-block">
                                    <h2 class="h5">Gastos do Mês</h2>
                                    <h3 class="mb-1"> R${{mensal|floatformat:2}}</h3>
                                </div>
                                <medium>{{month_label}}</medium> 
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-xl-3 mb-4">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <div class="row d-block d-xl-flex align-items-center">
                            <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                                <div class="icon icon-shape icon-md icon-shape-secondary rounded mr-4"><span class="fas fa-money-bill-wave"></span></div>
                                <div class="d-sm-none">
                                    <h2 class="h5">Revenue</h2>
                                    <h3 class="mb-1">$43,594</h3>
                                </div>
                            </div>
                            <div class="col-12 col-xl-7 px-xl-0">
                                <div class="d-none d-sm-block">
                                    <h2 class="h5">Gasto Anual</h2>
                                    <h3 class="mb-1">R${{anual|floatformat:2}}</h3>
                                </div>
                                <medium>{{year}}</medium>
                                
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-xl-3 mb-4">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <div class="row d-block d-xl-flex align-items-center">
                            <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                                <canvas id="myChart4" width="100" height="100"></canvas>
                            </div>
                            <div class="col-12 col-xl-7 px-xl-4">
                                 <h2 class="h5">Nº de Pedidos</h2>
                                <!--<h2 class="h5 mb-3">Traffic Share</h2>-->
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs mr-1" style="color:DodgerBlue;"><span class="fas fa-pizza-slice"></span></span> Pizza <a href="#" class="h6">{{pizza|floatformat:1}}%</a></h6>
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-secondary mr-1"><span class="fas fa-hamburger"></span></span> Burgers <a href="#" class="h6">{{sanduiche|floatformat:1}}%</a></h6>
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-tertiary mr-1"><span class="fas fa-fish"></span></span> Sushi <a href="#" class="h6">{{sushi|floatformat:1}}%</a></h6>
                                 <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-danger mr-1"><span class="fas fa-carrot"></span></span> Outros <a href="#" class="h6">{{outros|floatformat:1}}%</a></h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-xl-3 mb-4">
                <div class="card border-light shadow-sm">
                    <div class="card-body">
                        <div class="row d-block d-xl-flex align-items-center">
                            <div class="col-12 col-xl-5 text-xl-center mb-3 mb-xl-0 d-flex align-items-center justify-content-xl-center">
                                <!--<div class="ct-chart-traffic-share ct-golden-section ct-series-a"></div> -->
                                <canvas id="myChart3" width="100" height="100"></canvas>
                                
                            </div>
                            <div class="col-12 col-xl-7 px-xl-4">
                                <h2 class="h5">% Gastos</h2>
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs mr-1" style="color:DodgerBlue;"><span class="fas fa-pizza-slice"></span></span> Pizza <a href="#" class="h6">{{pizza2|floatformat:1}}%</a></h6>
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-secondary mr-1"><span class="fas fa-hamburger"></span></span> Burgers <a href="#" class="h6">{{sanduiche2|floatformat:1}}%</a></h6>
                                <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-tertiary mr-1"><span class="fas fa-fish"></span></span> Sushi <a href="#" class="h6">{{sushi2|floatformat:1}}%</a></h6>
                                 <h6 class="font-weight-normal text-gray"><span class="icon w-20 icon-xs icon-danger mr-1"><span class="fas fa-carrot"></span></span> Outros <a href="#" class="h6">{{outros2|floatformat:1}}%</a></h6>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body p-2">
                        <canvas id="myChart" width="300" height="110"></canvas>
                    </div>
                    
                </div>
            </div>
            <div class="col-6 mb-4">
                <div class="card shadow-sm">
                    <div class="card-body p-2">
                        <canvas id="myChart2" width="300" height="110"></canvas>
                    </div>
                    
                </div>
            </div>
            
        </div>

        <div class="row">
            <div class="col-12 col-xl-8 mb-4">
                <div class="row">
                    <div class="col-12 mb-4">
                        <div class="card border-light shadow-sm">
                            <div class="card-header">
                                <div class="row ">
                                    <div class="col">
                                        <h4>Últimos 5 Pedidos</h4>
                                    </div>
                                    <div class="col text-right">
                                        <a href="{% url 'orders' %}" class="btn btn-sm btn-secondary">Ver todos</a>
                                    </div>
                                </div>
                            </div>
                            <div class="table-responsive">
                                <table id="orders_table_index" class="table align-items-center table-flush mb-1" style="width: 100%;">
                                    <thead class="thead-light">
                                    <tr>
                                        <th data-priority="1">ID</th>
                                        <th data-priority="6">Criado</th>
                                        
                                        <th data-priority="7">Nome</th>
                                        <th data-priority="5">Nota</th>
                                        <th data-priority="5">Tipo</th>
                                        <th data-priority="5">Entrega</th>
                                        <th data-priority="5">App</th>
                                        <th data-priority="5">Preço</th>
                                        <th data-priority="5">Ações</th>
                                    </tr>    
                                        
                                    </thead>
                                    <tbody>
                                    <!-- Item -->
                                    {% if orders is not True %}
                                        {% for order in orders %}
                                            <tr class="item-row" data-edit="{% url 'orders' order.id 'edit' %}"
                                                data-detail="{% url 'orders' order.id  %}">
                                               <td><a class="font-weight-bold"  href="{% url 'order-update' order.id %}" style="color: cornflowerblue;text-align: center;">{{ order.id }}</a></td>
                                                
                                                <td><span class="font-weight-normal">{{ order.criado|date:"SHORT_DATE_FORMAT"}} </span></td>
                                                
                                                <td><span class="font-weight-bold">{{ order.nome}}</span></td>
                                                <td><span class="font-weight-normal">{{ order.nota}}</span></td>
                                                
                                                <td><span class="font-weight-normal">{{ order.tipo}}</span></td>
                                                <td><span class="font-weight-normal">{{ order.entrega}}</span></td>
                                                <td><span class="font-weight-normal">{{ order.app}}</span></td>
                                                <td><span class="font-weight-normal">{{ order.total}}</span></td>
                                                
                                                
                                                <td>
                                                    <div class="btn-group">
                                                        <button class="btn btn-link text-dark dropdown-toggle dropdown-toggle-split m-0 p-0"
                                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                            <span class="icon icon-sm">
                                                                <span class="fas fa-ellipsis-h icon-dark"></span>
                                                            </span>
                                                            <span class="sr-only">Toggle Dropdown</span>
                                                        </button>
                                                        <div class="dropdown-menu">
                                                            <a class="dropdown-item edit_item"
                                                            href="{% url 'order-update' order.id  %}">
                                                                <span class="fas fa-edit mr-2"></span>Editar
                                                            </a>
                                                            <a class="dropdown-item text-danger delete_item"
                                                            data-href="{% url 'orders' order.id 'edit' %}">
                                                                <span class="fas fa-trash-alt mr-2"></span>Remover
                                                            </a>
                                                        </div>
                                                    </div>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                    {% endif %}
                                    </tbody>
                                    
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>    


                    
            <div class="col-12 col-xl-4 mb-4">
                <div class="col-12 mb-4">
                    <div class="card border-light shadow-sm">
                        <div class="card-body d-flex flex-row align-items-center flex-0 border-bottom">
                            <div class="d-block">
                                <h4>Distribuição Semanal de Pedidos</h4>
                                <!--<div class="h4 font-weight-normal text-gray mb-2">Total orders</div>
                                <h2 class="h4 mb-0">452</h2>-->
                                    
                            </div>
                            
                        </div>
                        <div class="card-body p-2">
                            <!--<div class="ct-chart-ranking ct-golden-section ct-series-a"></div> -->
                            <canvas id="myChart5" width="100" height="50"></canvas>
                        </div>
                    </div>
                </div>
            </div>   
        </div>     

                

    {% include 'includes/footer.html' %}

    </main>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}{% endblock javascripts %}
